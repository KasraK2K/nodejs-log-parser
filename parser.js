(()=>{"use strict";var t={908:function(t,e,r){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const n=s(r(561));e.default=class{constructor(t){if(this.path=t,this.fileContent="",this.fileRows=[],this.logs=[],!n.default.existsSync(this.path))throw new Error("input file not found");this.fileContent=n.default.readFileSync(this.path,{encoding:"utf8"}),this.fileRows=this.fileContent.split("\n")}getJson(t,e=!1){this.logs=[];for(const e of this.fileRows){const r=this.convertStringRowToLogObject(e,t);null!==r&&this.logs.push(r)}return e?JSON.stringify(this.logs,null,4):JSON.stringify(this.logs)}convertStringRowToLogObject(t,e){let r;const s=t.slice(0,t.indexOf(" -")),n=t.slice(t.indexOf("- ")+2,t.indexOf(" - {"));if(e&&n!==e)return null;const i=t.slice(t.indexOf(" - {")+3).trim();try{const t=JSON.parse(i),e=t.transactionId,o=t.err;r={timestamp:new Date(s).getTime(),loglevel:n,transactionId:e,err:o}}catch(e){throw new Error(`error on parse row: ${t}`)}return r}save(t,e,r=!1){const s=this.getJson(e,r);try{return n.default.writeFileSync(t,s),!0}catch(t){return console.error(t),!1}}}},418:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(){this.arguments=[],this.argumentsMap=new Map([]),this.arguments=process.argv.slice(2),this.mapArguments()}mapArguments(){for(let t=0;t<this.arguments.length;t+=2)this.argumentsMap.set(this.arguments[t],this.arguments[t+1])}getArgument(t){var e;return null!==(e=this.argumentsMap.get(t))&&void 0!==e?e:""}}},607:function(t,e,r){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const n=s(r(418)),i=s(r(908)),o=new n.default,u=o.getArgument("--input"),l=o.getArgument("--output"),a=o.getArgument("--level");let c=!!["1","true","yes"].includes(o.getArgument("--pretty"));new i.default(u).save(l,a,c)},561:t=>{t.exports=require("node:fs")}},e={};(function r(s){var n=e[s];if(void 0!==n)return n.exports;var i=e[s]={exports:{}};return t[s].call(i.exports,i,i.exports,r),i.exports})(607)})();